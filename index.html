<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>OSINT - Herramientas</title>
<style>
  /* Reset y base */
  * {
    margin: 0; padding: 0; box-sizing: border-box;
  }
  body, html {
    height: 100%;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #121212;
    color: #ddd;
    overflow-y: auto;
  }

  /* Mensaje superior discreto */
  #topMessage {
    position: fixed;
    top: 0; left: 0; right: 0;
    background: #2e86decc;
    color: white;
    font-weight: 500;
    font-size: 0.9rem;
    padding: 0.5rem 0;
    text-align: center;
    user-select: none;
    z-index: 10000;
    box-shadow: 0 2px 6px rgba(0,0,0,0.5);
  }

  /* Contenedor principal */
  #app {
    padding: 3rem 1.5rem 2rem 1.5rem; /* espacio para mensaje superior */
    max-width: 900px;
    margin: 0 auto;
  }

  /* Secci√≥n herramienta */
  section.tool {
    background: #1f1f1f;
    padding: 1.6rem 1.8rem;
    margin-bottom: 1.8rem;
    border-radius: 12px;
    box-shadow: 0 0 12px #000;
  }
  section.tool h3 {
    color: #2e86de;
    font-size: 1.7rem;
    margin-bottom: 1rem;
    font-weight: 600;
  }
  section.tool label {
    display: block;
    margin: 1rem 0 0.4rem 0;
    font-weight: 500;
    color: #aaa;
  }
  section.tool input, section.tool textarea {
    width: 100%;
    padding: 0.7rem 1rem;
    border-radius: 10px;
    border: none;
    background: #222;
    color: #eee;
    font-size: 1rem;
    font-family: inherit;
    box-shadow: inset 0 0 8px #000;
    transition: background-color 0.3s ease;
  }
  section.tool input:focus, section.tool textarea:focus {
    outline: none;
    background: #2e86de33;
    box-shadow: 0 0 10px #2e86decc;
    color: #fff;
  }
  section.tool button {
    margin-top: 1.4rem;
    background: #2e86de;
    border: none;
    padding: 1rem 0;
    border-radius: 12px;
    color: white;
    font-weight: 600;
    font-size: 1.1rem;
    cursor: pointer;
    box-shadow: 0 0 15px #2e86decc;
    transition: background-color 0.3s ease;
    width: 100%;
  }
  section.tool button:hover {
    background-color: #1b4f72;
  }
  section.tool pre.result {
    margin-top: 1.4rem;
    background: #1a1a1a;
    color: #eee;
    padding: 1.2rem 1.3rem;
    border-radius: 12px;
    min-height: 120px;
    white-space: pre-wrap;
    font-family: monospace;
    box-shadow: inset 0 0 10px #000;
    user-select: text;
    line-height: 1.4;
    font-size: 1rem;
  }

  /* Responsive */
  @media (max-width: 480px) {
    #app {
      padding: 3rem 1rem 2rem 1rem;
    }
    section.tool h3 {
      font-size: 1.5rem;
    }
  }
</style>
</head>
<body>

<div id="topMessage" aria-live="polite" role="alert">
  Pr√≥ximamente m√°s de 100 herramientas se estar√°n implementando ya estamos haciendo los Testers y optimizando todo.üòéüíô
</div>

<div id="app" role="main" aria-label="Herramientas OSINT">

  <!-- Verificar N√∫mero Telef√≥nico -->
  <section class="tool" aria-label="Verificar n√∫mero telef√≥nico">
    <h3>Verificar N√∫mero Telef√≥nico</h3>
    <label for="phoneInput">N√∫mero con c√≥digo pa√≠s (ejemplo: +18297689021)</label>
    <input type="text" id="phoneInput" placeholder="+18493533042" autocomplete="tel" />
    <button id="btnVerifyPhone">Verificar</button>
    <pre id="phoneResult" class="result" aria-live="polite" aria-atomic="true">Ingrese un n√∫mero y pulse Verificar.</pre>
  </section>

  <!-- Verificar Email -->
  <section class="tool" aria-label="Verificar email">
    <h3>Verificar Email</h3>
    <label for="emailInput">Correo electr√≥nico (ej: ejemplo@mail.com)</label>
    <input type="email" id="emailInput" placeholder="ejemplo@mail.com" autocomplete="email" />
    <button id="btnVerifyEmail">Verificar</button>
    <pre id="emailResult" class="result" aria-live="polite" aria-atomic="true">Ingrese un email y pulse Verificar.</pre>
  </section>

  <!-- An√°lisis URL -->
  <section class="tool" aria-label="An√°lisis b√°sico de URL">
    <h3>An√°lisis b√°sico de URL</h3>
    <label for="urlInput">URL para analizar (ej: https://ejemplo.com)</label>
    <input type="url" id="urlInput" placeholder="https://ejemplo.com" autocomplete="url" />
    <button id="btnAnalyzeUrl">Analizar</button>
    <pre id="urlResult" class="result" aria-live="polite" aria-atomic="true">Ingrese una URL y pulse Analizar.</pre>
  </section>

  <!-- Extraer Metadatos EXIF -->
  <section class="tool" aria-label="Extraer metadatos EXIF de imagen">
    <h3>Extraer Metadatos EXIF</h3>
    <label for="exifInput">Sube una imagen para analizar</label>
    <input type="file" id="exifInput" accept="image/*" />
    <button id="btnExtractExif">Extraer</button>
    <pre id="exifResult" class="result" aria-live="polite" aria-atomic="true">Sube una imagen y pulsa Extraer.</pre>
  </section>

</div>

<script src="https://cdn.jsdelivr.net/npm/exif-js"></script>
<script>
  // API key para n√∫mero telef√≥nico (apilayer)
  const apiKey = '6jV4zlZ7VzIcQmvA5vq8cRJQJmFZYXKj';

  // Verificar n√∫mero telef√≥nico
  const phoneInput = document.getElementById('phoneInput');
  const btnVerifyPhone = document.getElementById('btnVerifyPhone');
  const phoneResult = document.getElementById('phoneResult');

  btnVerifyPhone.addEventListener('click', () => {
    const num = phoneInput.value.trim();
    if (!num.match(/^\+\d{6,15}$/)) {
      phoneResult.textContent = 'N√∫mero inv√°lido. Debe empezar con + y tener entre 6 y 15 d√≠gitos.';
      return;
    }
    phoneResult.textContent = 'Buscando informaci√≥n...';
    fetch(`https://api.apilayer.com/number_verification/validate?number=${encodeURIComponent(num)}`, {
      method: 'GET',
      headers: { apikey: apiKey }
    })
      .then(r => r.json())
      .then(data => {
        if (!data.valid) {
          phoneResult.textContent = 'N√∫mero inv√°lido o no existente.';
          return;
        }
        phoneResult.textContent =
          `‚úÖ N√∫mero: ${data.number_international}
üåç Pa√≠s: ${data.country_name} (${data.country_code})
üìû Local: ${data.number_local}
üì° Operador: ${data.carrier || 'No disponible'}
üì± Tipo: ${data.line_type || 'No disponible'}`;
      })
      .catch(() => {
        phoneResult.textContent = 'Error en la consulta. Intenta m√°s tarde.';
      });
  });

  // Verificar Email (solo formato)
  const emailInput = document.getElementById('emailInput');
  const btnVerifyEmail = document.getElementById('btnVerifyEmail');
  const emailResult = document.getElementById('emailResult');

  btnVerifyEmail.addEventListener('click', () => {
    const email = emailInput.value.trim();
    const regexEmail = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!regexEmail.test(email)) {
      emailResult.textContent = 'Email con formato inv√°lido.';
      return;
    }
    emailResult.innerHTML = `Email v√°lido.<br>Para verificar brechas visita <a href="https://haveibeenpwned.com/" target="_blank" style="color:#2e86de;">Have I Been Pwned</a>.`;
  });

  // An√°lisis b√°sico de URL
  const urlInput = document.getElementById('urlInput');
  const btnAnalyzeUrl = document.getElementById('btnAnalyzeUrl');
  const urlResult = document.getElementById('urlResult');

  btnAnalyzeUrl.addEventListener('click', () => {
    const urlStr = urlInput.value.trim();
    if (!urlStr) {
      urlResult.textContent = 'Introduce una URL v√°lida.';
      return;
    }
    try {
      const url = new URL(urlStr);
      let output =
        `üîó URL: ${url.href}
üåê Protocolo: ${url.protocol}
üè† Host: ${url.host}
üìõ Dominio: ${url.hostname}
üì´ Puerto: ${url.port || '(default)'}
üìÇ Ruta: ${url.pathname}
üîé Par√°metros: ${url.search || 'Ninguno'}
üîó Hash: ${url.hash || 'Ninguno'}
üîê HTTPS: ${url.protocol === 'https:' ? 'S√≠' : 'No'}`;
      urlResult.textContent = output;
    } catch {
      urlResult.textContent = 'URL no v√°lida.';
    }
  });

  // Extraer EXIF
  const exifInput = document.getElementById('exifInput');
  const btnExtractExif = document.getElementById('btnExtractExif');
  const exifResult = document.getElementById('exifResult');

  btnExtractExif.addEventListener('click', () => {
    const file = exifInput.files[0];
    if (!file) {
      exifResult.textContent = 'Sube una imagen primero.';
      return;
    }
    exifResult.textContent = 'Extrayendo metadatos EXIF...';
    EXIF.getData(file, function () {
      const allMetaData = EXIF.getAllTags(this);
      if (Object.keys(allMetaData).length === 0) {
        exifResult.textContent = 'No se encontraron metadatos EXIF.';
        return;
      }
      let output = '';
      for (const tag in allMetaData) {
        output += `${tag}: ${allMetaData[tag]}\n`;
      }
      exifResult.textContent = output;
    });
  });
</script>

</body>
</html>